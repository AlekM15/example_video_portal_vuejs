webpackJsonp([1],{"+Gxq":function(t,n,e){"use strict";var a=e("fnDg").a;var i=e("VU/8")(a,null,!1,function(t){e("4veK")},null,null);n.a=i.exports},"/h62":function(t,n){},"1dq9":function(t,n){},"4veK":function(t,n){},"9M+g":function(t,n){},Abm7:function(t,n){},"HUt/":function(t,n,e){"use strict";var a=e("qRo1").a;var i=e("VU/8")(a,null,!1,function(t){e("n9mN")},null,null);n.a=i.exports},JCpY:function(t,n,e){"use strict";var a=e("rKsW").a;var i=e("VU/8")(a,null,!1,function(t){e("xBwK")},null,null);n.a=i.exports},JDVb:function(t,n,e){"use strict";var a=e("9NuQ").a;var i=e("VU/8")(a,null,!1,function(t){e("Y9O/")},null,null);n.a=i.exports},Jmt5:function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("7+uW"),i={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"container-fluid",attrs:{id:"app"}},[n("b-jumbotron",{attrs:{header:"MyOrganization.tv",lead:"Your home for watching live and on-demand broadcasts."}}),this._v(" "),n("router-view")],1)},staticRenderFns:[]};var s=e("VU/8")({name:"app",data:function(){return{}},mounted:function(){},methods:{}},i,!1,function(t){e("kQ4j")},null,null).exports,o=e("/ocq"),r=e("Dd8w"),c=e.n(r),l=e("//Fk"),h=e.n(l),d=e("Zrlr"),u=e.n(d),g=e("wxAW"),v=e.n(g),m={accountId:"FAKBXCST",channelId:"TFx1ItBvCjeINXeA2XnD",channelFilter:function(){return!0}},f=window.boxcast;f||alert("BoxCast JavaScript library not found. Application will not function."),m&&m.accountId&&m.channelId||alert("BoxCast application portal not configured. Please ensure you have added your config.js");var b="https://api.boxcast.com";function _(t){return t.json()}var p=new(function(){function t(){u()(this,t),this._data={}}return v()(t,[{key:"set",value:function(t,n){this._data[t]=n}},{key:"get",value:function(t){return this._data[t]}}]),t}()),C=function(){return m.channelId},w=function(){var t="channels:"+m.accountId;return p.get(t)?h.a.resolve(p.get(t)):f.utils.fetch(b+"/accounts/"+m.accountId+"/channels").then(_).then(function(t){return m.channelFilter?t.filter(m.channelFilter):t}).then(function(n){return p.set(t,n),n})},I=function(t,n){var e={},a=n?"?"+f.utils.Util.qsFromObj(n):"";return f.utils.fetch(b+"/channels/"+t+"/broadcasts"+a).then(function(t){return e=JSON.parse(t.headers.get("X-Pagination")),t}).then(_).then(function(t){return{broadcasts:t,pagination:e}})},x=function(t,n){var e={},a=n?"?"+f.utils.Util.qsFromObj(n):"";return f.utils.fetch(b+"/channels/"+t+"/highlights"+a).then(function(t){return e=JSON.parse(t.headers.get("X-Pagination")),t}).then(_).then(function(t){return{highlights:t,pagination:e}})},k={timeframe:function(t){return f.utils.broadcast.timeframe(t)},formatDuration:function(t){return f.utils.broadcast.duration(t)},formatRelative:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=f.utils.Clock.formatRelative(new Date(t));return a.indexOf("/")>-1?a:(n+" "+a+" "+e).trim()}},y={name:"ChannelListView",data:function(){return{accountChannelId:m.channelId,listView:!!m.useListView,loading:!1,broadcasts:[],pagination:{},channelId:null,channelIdForBroadcastLink:null}},mounted:function(){this.initChannelId(),this.getBroadcasts()},watch:{$route:function(t,n){this.initChannelId(),this.getBroadcasts(),window.scrollTo(0,0)}},methods:{bgStyle:function(t){return{"background-image":'url("'+t.preview+'")',"background-size":"contain","background-repeat":"no-repeat","background-position":"50% 50%"}},initChannelId:function(){switch(this.$route&&"ChannelListView"===this.$route.name&&this.$route.params?this.channelId=this.$route.params.id:this.channelId=this.accountChannelId,this.channelIdForBroadcastLink=this.channelId,this.$route&&this.$route.name){case"LiveAndRecentListView":this.channelIdForBroadcastLink="live_recent";break;case"UpcomingListView":this.channelIdForBroadcastLink="upcoming"}},getBroadcasts:function(){var t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.channelId){var a="-starts_at",i="timeframe:relevant";switch(this.$route.name){case"LiveAndRecentListView":i="timeframe:current timeframe:past";break;case"UpcomingListView":i="timeframe:current timeframe:future",a="starts_at"}e=c()({s:a,q:i,l:20},e),n&&(this.broadcasts=[]),this.loading=!0,I(this.channelId,e).then(function(n){console.log(n),t.broadcasts=t.broadcasts.concat(n.broadcasts),t.pagination=n.pagination,t.loading=!1}).catch(function(t){console.error(t)})}else console.warn("No channel ID provided for route")}}},L={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4 col-md-3 col-lg-2"},[e("ChannelNav")],1),t._v(" "),e("div",{staticClass:"col-sm-8 col-md-9 col-lg-10"},[t.loading&&0==t.broadcasts.length?e("b-alert",{attrs:{variant:"info",show:""}},[t._v("Loading Broadcasts...")]):t._e(),t._v(" "),t.loading||0!=t.broadcasts.length?t._e():e("b-alert",{attrs:{variant:"info",show:""}},[t._v("\n      There are no broadcasts in the selected channel.\n    ")]),t._v(" "),t.listView?t._e():e("div",{staticClass:"row"},t._l(t.broadcasts,function(n){return e("div",{key:n.id,staticClass:"col-sm-6 col-md-4 col-lg-3"},[e("BroadcastCard",{attrs:{broadcast:n,channelId:t.channelIdForBroadcastLink}})],1)})),t._v(" "),t.listView?e("div",t._l(t.broadcasts,function(n){return e("BroadcastRow",{key:n.id,attrs:{broadcast:n,channelId:t.channelIdForBroadcastLink}})})):t._e(),t._v(" "),t.pagination.next?e("div",{staticClass:"row",staticStyle:{"margin-bottom":"15px"}},[e("div",{staticClass:"col-sm-12"},[e("button",{staticClass:"btn btn-lg btn-secondary btn-block",attrs:{disabled:t.loading},on:{click:function(n){t.getBroadcasts(!1,{p:t.pagination.next})}}},[t.loading?e("span",[t._v("Loading...")]):t._e(),t._v(" "),t.loading?t._e():e("span",[t._v("Load More")])])])]):t._e()],1)])},staticRenderFns:[]};var S=e("VU/8")(y,L,!1,function(t){e("jNRc")},"data-v-e2b8eba6",null).exports,V={name:"ChannelListView",data:function(){return{accountChannelId:C(),loading:!1,highlights:[],pagination:{},channelId:C(),channelIdForBroadcastLink:"highlights"}},mounted:function(){this.getHighlights()},watch:{$route:function(t,n){this.getHighlights(),window.scrollTo(0,0)}},methods:{getHighlights:function(){var t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.channelId){e=c()({s:"-streamed_at",l:20},e),n&&(this.highlights=[]),this.loading=!0,x(this.channelId,e).then(function(n){console.log(n),t.highlights=t.highlights.concat(n.highlights),t.pagination=n.pagination,t.loading=!1}).catch(function(t){console.error(t)})}else console.warn("No channel ID provided for route")}}},B={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4 col-md-3 col-lg-2"},[e("ChannelNav")],1),t._v(" "),e("div",{staticClass:"col-sm-8 col-md-9 col-lg-10"},[t.loading&&0==t.highlights.length?e("b-alert",{attrs:{variant:"info",show:""}},[t._v("Loading Highlights...")]):t._e(),t._v(" "),t.loading||0!=t.highlights.length?t._e():e("b-alert",{attrs:{variant:"info",show:""}},[t._v("\n      There are no highlights.\n    ")]),t._v(" "),e("div",{staticClass:"row"},t._l(t.highlights,function(n){return e("div",{key:n.id,staticClass:"col-sm-6 col-md-4 col-lg-3"},[e("BroadcastCard",{attrs:{broadcast:n,channelId:t.channelIdForBroadcastLink}})],1)})),t._v(" "),t.pagination.next?e("div",{staticClass:"row",staticStyle:{"margin-bottom":"15px"}},[e("div",{staticClass:"col-sm-12"},[e("button",{staticClass:"btn btn-lg btn-secondary btn-block",attrs:{disabled:t.loading},on:{click:function(n){t.getHighlights(!1,{p:t.pagination.next})}}},[t.loading?e("span",[t._v("Loading...")]):t._e(),t._v(" "),t.loading?t._e():e("span",[t._v("Load More")])])])]):t._e()],1)])},staticRenderFns:[]};var $=e("VU/8")(V,B,!1,function(t){e("1dq9")},"data-v-766e5837",null).exports,R={name:"ChannelListView",data:function(){return{accountChannelId:C(),loading:!1,showChannelSelector:!1,relatedBroadcasts:[],broadcast:{},channelName:""}},mounted:function(){this.$refs.boxcastContainerEl?(this.context=boxcast("#"+this.$refs.boxcastContainerEl.id),this.initChannelId(),this.getBroadcast()):console.warn("Unable to find ref to boxcastContainerEl",this.$refs)},destroyed:function(){this.context.unload()},watch:{$route:function(t,n){this.initChannelId(),this.getBroadcast(),window.scrollTo(0,0)}},methods:{toggleChannelSelector:function(){this.showChannelSelector=!this.showChannelSelector},initChannelId:function(){this.$route&&this.$route.query&&this.$route.query.channel_id?this.channelId=this.$route.query.channel_id:this.channelId=""},getBroadcast:function(){var t=this;this.broadcast={};var n=this.channelId;n&&"live_recent"!==n&&"upcoming"!==n||(console.log("Coercing special channel to account-level query",n),n=this.accountChannelId),this.context.loadChannel(n,{disableRedirectRulesOnLoad:!0,selectedBroadcastId:this.$route.params.broadcast_id,onLoadBroadcast:function(n){t.broadcast=n,t.loading=!1,t.relatedBroadcasts=boxcast.model.PlaylistStore.broadcasts,t.channelName=boxcast.model.CurrentChannelStore.name},showTitle:!0,showDescription:!0,showRelated:!1})}}},N={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 text-left",staticStyle:{"margin-bottom":"15px"}},[t.showChannelSelector?t._e():e("button",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{title:"Show Channel Selector"},on:{click:t.toggleChannelSelector}},[t._v("\n      >\n    ")]),t._v(" "),t.showChannelSelector?e("button",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{title:"Hide Channel Selector"},on:{click:t.toggleChannelSelector}},[t._v("\n      <\n    ")]):t._e(),t._v("\n    "+t._s(t.channelName)+"\n  ")]),t._v(" "),e("div",{class:t.showChannelSelector?"col-sm-4 col-md-3 col-lg-2":"col-sm-0 col-md-1"},[e("ChannelNav")],1),t._v(" "),e("div",{class:t.showChannelSelector?"col-sm-8 col-md-9 col-lg-10":"col-sm-12 col-md-11"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-9"},[t.loading?e("b-alert",{attrs:{variant:"info",show:""}},[t._v("Loading Broadcast...")]):t._e(),t._v(" "),e("div",{ref:"boxcastContainerEl",attrs:{id:"boxcast-container"}})],1),t._v(" "),e("div",{staticClass:"col-sm-3"},[e("p",{staticClass:"ellipse text-left"},[t._v("Related Broadcasts")]),t._v(" "),t._l(t.relatedBroadcasts,function(n){return n.id!=t.broadcast.id?e("div",{key:n.id},[e("BroadcastCard",{attrs:{broadcast:n,channelId:t.channelId}})],1):t._e()})],2)])])])},staticRenderFns:[]};var U=e("VU/8")(R,N,!1,function(t){e("j2P7")},null,null).exports,F={name:"ChannelListView",data:function(){return{accountChannelId:C(),loading:!1,showChannelSelector:!0,highlight:{},channelName:""}},mounted:function(){this.$refs.boxcastContainerEl?(this.context=boxcast("#"+this.$refs.boxcastContainerEl.id),this.getHighlight()):console.warn("Unable to find ref to boxcastContainerEl",this.$refs)},destroyed:function(){this.context.unload()},watch:{$route:function(t,n){this.getHighlight(),window.scrollTo(0,0)}},methods:{toggleChannelSelector:function(){this.showChannelSelector=!this.showChannelSelector},getHighlight:function(){var t=this;this.highlight={},this.context.loadHighlight(this.$route.params.highlight_id,{disableRedirectRulesOnLoad:!0,onLoadHighlight:function(n){console.log(n),t.highlight=n,t.loading=!1}})}}},H={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12 text-left",staticStyle:{"margin-bottom":"15px"}},[this.showChannelSelector?this._e():n("button",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{title:"Show Channel Selector"},on:{click:this.toggleChannelSelector}},[this._v("\n      >\n    ")]),this._v(" "),this.showChannelSelector?n("button",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{title:"Hide Channel Selector"},on:{click:this.toggleChannelSelector}},[this._v("\n      <\n    ")]):this._e(),this._v("\n    "+this._s(this.channelName)+"\n  ")]),this._v(" "),n("div",{class:this.showChannelSelector?"col-sm-4 col-md-3 col-lg-2":"col-sm-0"},[n("ChannelNav")],1),this._v(" "),n("div",{class:this.showChannelSelector?"col-sm-8 col-md-9 col-lg-10":"col-sm-12"},[this.loading?n("b-alert",{attrs:{variant:"info",show:""}},[this._v("Loading Highlight ...")]):this._e(),this._v(" "),n("h3",[this._v(this._s(this.highlight.name))]),this._v(" "),n("div",{ref:"boxcastContainerEl",attrs:{id:"boxcast-container"}})],1)])},staticRenderFns:[]};var E=e("VU/8")(F,H,!1,function(t){e("VNLm")},null,null).exports;a.a.use(o.a);var q=new o.a({routes:[{path:"/",name:"LiveAndRecentListView",component:S},{path:"/upcoming",name:"UpcomingListView",component:S},{path:"/highlights",name:"HighlightsListView",component:$},{path:"/channels/:id",name:"ChannelListView",component:S},{path:"/broadcasts/:broadcast_id",name:"BroadcastView",component:U},{path:"/highlights/:highlight_id",name:"HighlightView",component:E}]}),j=e("e6fC"),A=(e("Jmt5"),e("9M+g"),{name:"ChannelNav",data:function(){return{loading:!1,channels:[]}},mounted:function(){this.getChannels()},methods:{getChannels:function(){var t=this;this.loading=!0,w().then(function(n){t.channels=n,t.loading=!1}).catch(function(t){console.error(t)})}}}),O={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-list-group",[e("b-list-group-item",{attrs:{href:"#/",active:"live_recent"==t.$route.query.channel_id||"LiveAndRecentListView"==t.$route.name}},[t._v("Live and Recent Broadcasts")]),t._v(" "),e("b-list-group-item",{attrs:{href:"#/upcoming",active:"upcoming"==t.$route.query.channel_id||"UpcomingListView"==t.$route.name}},[t._v("Upcoming Broadcasts")]),t._v(" "),e("b-list-group-item",{attrs:{href:"#/highlights",active:"HighlightView"==t.$route.name||"HighlightsListView"==t.$route.name}},[t._v("Highlights")]),t._v(" "),t.loading?e("b-list-group-item",{attrs:{disabled:""}},[t._v("Loading Channels...")]):t._e(),t._v(" "),t._l(t.channels,function(n){return e("b-list-group-item",{key:n.id,attrs:{active:t.$route.query.channel_id==n.id||t.$route.params.id==n.id,href:"#/channels/"+n.id}},[t._v(t._s(n.name))])})],2)},staticRenderFns:[]};var T=e("VU/8")(A,O,!1,function(t){e("rHaQ")},null,null).exports,D={name:"BroadcastCard",props:["broadcast","channelId"],data:function(){return{}},mounted:function(){},computed:{link:function(){return"highlights"===this.channelId?"#/highlights/"+this.broadcast.id:"#/broadcasts/"+this.broadcast.id+"?channel_id="+this.channelId},bgStyle:function(){return{"background-image":'url("'+this.broadcast.preview+'")',"background-size":"contain","background-repeat":"no-repeat","background-position":"50% 50%"}},timeframe:function(){return k.timeframe(this.broadcast)},description:function(){var t="";switch(this.timeframe){case"future":t="Starts "+k.formatRelative(this.broadcast.starts_at,"");break;case"current":break;case"recently-ended":case"past":t="Ended "+k.formatRelative(this.broadcast.stops_at,"","")}return t&&this.broadcast.description?t+" - "+this.broadcast.description:t||this.broadcast.description}},methods:{}},P={render:function(){var t=this.$createElement,n=this._self._c||t;return n("a",{staticClass:"card mb-4",attrs:{href:this.link,target:"_self"}},[n("div",{staticClass:"card-img-top"},[n("div",{staticClass:"fixed-16-9"},[this.broadcast.preview?n("div",{style:this.bgStyle},["current"==this.timeframe?n("div",{staticClass:"timeframe badge badge-danger"},[this._v("\n          LIVE\n        ")]):this._e(),this._v(" "),"future"==this.timeframe?n("div",{staticClass:"timeframe badge badge-warning"},[this._v("\n          Upcoming\n        ")]):this._e(),this._v(" "),"past"==this.timeframe||"recently-ended"==this.timeframe?n("div",{staticClass:"timeframe badge badge-secondary"},[this._v("\n          Recorded\n        ")]):this._e()]):this._e(),this._v(" "),this.broadcast.preview?this._e():n("div",{staticClass:"no-preview"},[this._v("\n        Preview not available\n        "),"current"==this.timeframe?n("div",{staticClass:"timeframe badge badge-danger"},[this._v("\n          LIVE\n        ")]):this._e(),this._v(" "),"future"==this.timeframe?n("div",{staticClass:"timeframe badge badge-warning"},[this._v("\n          Upcoming\n        ")]):this._e(),this._v(" "),"past"==this.timeframe||"recently-ended"==this.timeframe?n("div",{staticClass:"timeframe badge badge-secondary"},[this._v("\n          Recorded\n        ")]):this._e()])])]),this._v(" "),n("div",{staticClass:"card-body"},[n("h4",{staticClass:"card-title"},[this._v(this._s(this.broadcast.name))]),this._v(" "),n("p",{staticClass:"card-text ellipse"},[n("small",[this._v(this._s(this.description))])])])])},staticRenderFns:[]};var J=e("VU/8")(D,P,!1,function(t){e("/h62")},"data-v-7ac8a602",null).exports,K={name:"BroadcastRow",props:["broadcast","channelId"],data:function(){return{}},mounted:function(){},computed:{link:function(){return"highlights"===this.channelId?"#/highlights/"+this.broadcast.id:"#/broadcasts/"+this.broadcast.id+"?channel_id="+this.channelId},bgStyle:function(){return{"background-image":'url("'+this.broadcast.preview+'")',"background-size":"contain","background-repeat":"no-repeat","background-position":"50% 50%"}},timeframe:function(){return k.timeframe(this.broadcast)},description:function(){var t="";switch(this.timeframe){case"future":t="Starts "+k.formatRelative(this.broadcast.starts_at,"");break;case"current":break;case"recently-ended":case"past":t="Ended "+k.formatRelative(this.broadcast.stops_at,"","")}return t&&this.broadcast.description?t+" - "+this.broadcast.description:t||this.broadcast.description}},methods:{}},M={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"row mb-4"},[n("div",{staticClass:"col-sm-2"},[n("a",{attrs:{href:this.link,target:"_self"}},[n("div",{staticClass:"fixed-16-9"},[this.broadcast.preview?n("div",{style:this.bgStyle}):this._e(),this._v(" "),this.broadcast.preview?this._e():n("div",{staticClass:"no-preview"},[this._v("Preview not available")])])])]),this._v(" "),n("div",{staticClass:"col-sm-8"},[n("h4",{staticClass:"card-title"},[n("a",{attrs:{href:this.link,target:"_self"}},[this._v("\n       "+this._s(this.broadcast.name)+"\n      ")])]),this._v(" "),n("p",{staticClass:"card-text ellipse"},[n("small",[this._v(this._s(this.description))])])]),this._v(" "),n("div",{staticClass:"col-sm-2"},["current"==this.timeframe?n("div",{staticClass:"timeframe badge badge-danger"},[this._v("\n      LIVE\n    ")]):this._e(),this._v(" "),"future"==this.timeframe?n("div",{staticClass:"timeframe badge badge-warning"},[this._v("\n      Upcoming\n    ")]):this._e(),this._v(" "),"past"==this.timeframe||"recently-ended"==this.timeframe?n("div",{staticClass:"timeframe badge badge-secondary"},[this._v("\n      Recorded\n    ")]):this._e()])])},staticRenderFns:[]};var W=e("VU/8")(K,M,!1,function(t){e("Abm7")},"data-v-4559d9dd",null).exports;a.a.use(j.a),a.a.component("ChannelNav",T),a.a.component("BroadcastCard",J),a.a.component("BroadcastRow",W),a.a.config.productionTip=!1,new a.a({el:"#app",router:q,template:"<App/>",components:{App:s,ChannelNav:T}})},VNLm:function(t,n){},"Y9O/":function(t,n){},dW2o:function(t,n){},j2P7:function(t,n){},jNRc:function(t,n){},kQ4j:function(t,n){},n9mN:function(t,n){},r15W:function(t,n,e){"use strict";var a=e("E9Zr").a;var i=e("VU/8")(a,null,!1,function(t){e("dW2o")},null,null);n.a=i.exports},rHaQ:function(t,n){},xBwK:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.829db123d09fd0350ecb.js.map